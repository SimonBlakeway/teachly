<link rel="apple-touch-icon" href="/docs/5.0/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<meta name="theme-color" content="#7952b3">

<style>
  #landing-page-search-bar {
    background-color: #eee;
    font-family: "Poppins", sans-serif;
    font-weight: 300;
    width: 100vw !important;
    padding: 0px !important;
  }

  .subject-box {

    width: 200px;
    height: 100px;
    background-color: aqua;
    margin: 0px;
    padding: 5px;

  }

  .popup {
    position: absolute;
    z-index: 20;
    width: 300px;
    height: 300px;
    background-color: #ffffff;
    display: none;
    visibility: hidden;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    text-align: left;
    overflow: auto;
    -ms-overflow-style: none;
    /* Internet Explorer 10+ */
    scrollbar-width: none;
    /* Firefox */
    font-size: 20px;
    border-radius: 10px;
    webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    border-style: solid;
    border-color: white;
    border-width: 30px;
  }

  .popup::-webkit-scrollbar {
    display: none;
    /* Safari and Chrome */
  }
</style>



<script>



  function SearchBarPopupSearch() {
    var input, filter;
    input = document.getElementById("taughtIn-search-input");
    filter = input.value.toUpperCase();
    checkboxes = document.getElementsByClassName("taughtIn-checkboxes-p");
    for (i = 0; i < checkboxes.length; i++) {
      txtValue = checkboxes[i].textContent || checkboxes[i].innerHTML;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        checkboxes[i].style.display = "";
      } else {
        checkboxes[i].style.display = "none";
      }
    }
  }

  function clearSearchBarPopup() {
    popupArr = document.getElementsByClassName("popup")
    for (i = 0; i < popupArr.length; i++) {
      popupArr[i].style.display = "none";
      popupArr[i].style.visibility = "hidden";
    }
  }

  function toggleSearchBarPopup() {
    var subjectPopup = document.getElementById(id);
    if (subjectPopup.style.display == "block") {
      subjectPopup.style.display = "none";
      subjectPopup.style.visibility = "hidden";
    }
    else {
      clearSearchBarPopups()
      subjectPopup.style.display = "block";
      subjectPopup.style.visibility = "visible";
    }
  }


  window.addEventListener('load', function () {


    axios.get('/get/validSubject').then(res => {
      if (res.data == "404") { }
      else {
        arr = res.data.sort((a, b) => { return a.localeCompare(b, userLang) })

        for (i = 0; i < arr.length; i++) {

          axios.get(`/get/validSpecialities/${arr[i]}`).then(res => {
            if (res.data == "404") {
            }
            else {
              arr = res.data
              for (let i = 0; i < arr.length; i++) {
                a = document.createElement("a");
                a.href = `/learn/${arr[i]}`
                a.className = "subject-box";
                div = document.createElement("div");
                div.innerHTML = `${arr[i]}`;
                div.className = "subject-box";
                a.appendChild(div);
                document.getElementById("subject-list").appendChild(a);
              }
            }
          })
        }

        arr = res.data.sort((a, b) => { return a.localeCompare(b, userLang) })
        for (let i = 0; i < arr.length; i++) {
          a = document.createElement("a");
          a.href = `/learn/${arr[i]}`
          a.className = "subject-box";
          div = document.createElement("div");
          div.innerHTML = `${arr[i]}`;
          div.className = "subject-box";
          a.appendChild(div);
          document.getElementById("subject-list").appendChild(a);
        }
      }
    })
  })


  async function searchCourses() {
    try {
      teachlyFormData = JSON.parse(localStorage.getItem("TeachlyFormData"))
      teachlyFormData.amount = 10
      teachlyFormData.pagePlace = 10

      res = await axios({
        method: 'post',
        url: '/learn/searchTutorCourses',
        data: teachlyFormData,
        headers: {
          'Content-Type': 'application/json',
        },
      })

      console.log(res.data)

      if (res.data.err) {
        if (res.data.err == 404) {
          document.getElementById("courses").style.display = "none"
          document.getElementById("no-courses").style.display = "block"
          document.getElementById("server-error").style.display = "none"
        }
        else if (res.data.err == "server error") {
          document.getElementById("courses").style.display = "none"
          document.getElementById("no-courses").style.display = "none"
          document.getElementById("server-error").style.display = "block"
        }
      }

      else {
        courseArr = res.data

        for (let i = 0; i < courseArr.length; i++) {

          colDiv = document.createElement("div");
          colDiv.className = "col"

          shadowDiv = document.createElement("div");
          shadowDiv.className = "card shadow-sm"




          document.getElementById("courses").style.display = "block"
          document.getElementById("no-courses").style.display = "none"
          document.getElementById("server-error").style.display = "none"
        }
      }

    }
    catch (err) {
      document.getElementById("courses").style.display = "none"
      document.getElementById("no-courses").style.display = "none"
      document.getElementById("server-error").style.display = "block"
    }
  }





</script>



<main style="background-color: #eee;" onclick="clearSearchBarPopups()">

  <div id="landing-page-search-bar" class="container" style="margin-top: -125px !important; width: 100% !important;">
    <div class="d-flex align-items-center justify-content-center flex-column gap-4" style="height: 90vh;">
      <form class="d-flex" style="width: 70%; max-width: 400px;" onclick='toggleSearchBarPopup("subject-popup")'>
        <input onkeyup="SearchBarPopupSearch()" class="form-control me-1" type="search"
          placeholder="search subjects or specialities" aria-label="Search">
        <button style="margin-top: 5px !important; width: 60px;" class="btn btn-outline-primary" type="submit">
          <i class="fa fa-search"></i>
        </button>
      </form>
      <div class="product-search-popup popup" id="subject-popup">
        <ul id="subject-links">

        </ul>
      </div>
    </div>

    <div id="subject-list" class="d-flex align-items-center justify-content-center flex-column gap-4 container">


    </div>
</main>